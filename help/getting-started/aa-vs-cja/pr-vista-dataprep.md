# Adobe Analytics Processing Rules and VISTA vs Data Prep for the Analytics Source Connector

[Processing Rules and VISTA rules](https://experienceleague.adobe.com/docs/analytics/admin/admin-tools/processing-rules/processing-rules-configuration/processing-rule-order.html?lang=en) provide a means to transform and manipulate data which is passed into Adobe Analytics [data collection](https://experienceleague.adobe.com/docs/analytics/analyze/reports-analytics/reporting-interface/overview-data-collection.html?lang=en). These transformations occur as a part of Adobe's data processing before the data is stored for reporting and analytics purposes in Adobe Analytics. 


[Data Prep](https://experienceleague.adobe.com/docs/experience-platform/data-prep/home.html?lang=en) is a tool which allows you to apply row-based mappings and transformations to data ingested into [AEP](https://experienceleague.adobe.com/docs/experience-platform.html?lang=en) before the data is made available to AEP applications including Unified Profile, RDTCP, CJA. Data prep is integrated with many of the AEP [source connectors](https://experienceleague.adobe.com/docs/experience-platform/sources/home.html?lang=en) and is now also integrated with the [Analytics Source Connector](https://experienceleague.adobe.com/docs/experience-platform/sources/ui-tutorials/create/adobe-applications/analytics.html?lang=en). 

The Analytics Source Connector provides a way to ingest report suite data from Adobe Analytics into AEP. As a result, data which is collected by Adobe Analytics and stored in Adobe Analytics can be transformed by either processing rules or VISTA rules or both. But report suites which are then subsequently forwarded to AEP via the Analytics Source Connector may be transformed another time using Data Prep. This may be desirable for a number of a number of purposes:

* Resolving schema differences between report suites for use in CJA and/or RTCDP. For example, if report suite A defines eVar1 as Search Term and report ruite B defines eVar2 as Search Term, you can use data prep to map the two different eVars into a common field which contains data from both eVars. This makes it possible to combine report suites with different schemas in a CJA connection or for use in RTCDP.
* Mapping eVars fields to semantically meaningful names. eVars and props coming through ADC are mapped to fields such as _experience.analytics.customDimensions.eVars.eVar1.  Data prep can be used to map ADC eVar and prop fields to new fields that have more meaningful names for the customer, or that match names coming from other data sources. (Although, this can also be accomplished via other means such as renaming the fields in the CJA data view.)
* Generally transforming data. Data prep has hundreds of mapping functions that can be used to compute and calculate new fields based on the data coming through ADC. You can split delimited fields into separate fields. You can combine fields. You can manipulate strings. You can extract information from a field based on regular expressions. Etc.


Also, Data Prep is not the same thing as Adobe Analytics or CJA classifications, but has a bit of crossover in some situations. For example, if you have a delimited field, you can use Data Prep to split that field out into multiple individual fields without the use of classifications. Generally though, classifications are a way to add metadata to a field using a lookup file that is supplied outside the stream of incoming Analytics hits. For example, you can use a classifications lookup file to ‘classify’ a variable containing SKU into ‘size’, ‘brand’, ‘color’, etc.

Once you create a set of mappings using Data Prep, those mappings are applied to the data continually from that point forward.