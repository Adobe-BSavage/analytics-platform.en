---
title: Integrate Adobe Journey Optimizer with Customer Journey Analytics 
description: Bring in data generated by Adobe Journey Optimizer and analyze it using Analysis Workspace within Customer Journey Analytics.
exl-id: 9333ada2-b4d6-419e-9ee1-5c96f06a3bfd
feature: Experience Platform Integration
role: Admin
---
# Integrate Journey Optimizer with Customer Journey Analytics

[Adobe Journey Optimizer](https://experienceleague.adobe.com/en/docs/journey-optimizer/using/get-started/get-started) helps you deliver connected, contextual, and personalized experiences. It helps expose your customers to the next step in their customer journey.

You can configure data generated by Journey Optimizer to perform advanced analysis in Customer Journey Analytics. You can configure this integration automatically. If needed, you can make additional, manual customizations to the datasets, dimensions, or metrics that are available in your connection or data views.

## Automatically configure Journey Optimizer integration

{{release-limited-testing-section}}

Journey Optimizer supports using Customer Journey Analytics as the reporting engine. See [Get started with the new Reporting interface](https://experienceleague.adobe.com/en/docs/journey-optimizer/using/channel-report/report-gs-cja) in the Journey Optimizer documentation.

When you have enabled Customer Journey Analytics reporting for Journey Optimizer, automatically a [connection](/help/connections/overview.md) and [data view](/help/data-views/data-views.md) are created for the specific sandbox. 

### Connection

The connection has the name **[!UICONTROL AJO Enabled Connection (*sandbox name*)]** and has the following out of the box values for configuration and datasets:

| **Connection settings** | Value| 
|---|---| 
| [!UICONTROL Connection name] | `AJO Enabled Connection (`_`sandbox name`_`)` | 
| [!UICONTROL Connection description] | [!UICONTROL *Describe your connection here*] |
| [!UICONTROL Tags] | [!UICONTROL *Select tags*] |


| **Data settings** | Value | 
|---|---| 
| [!UICONTROL Enable rolling data window] | Enabled. [!UICONTROL Selected number of months] `13`. |
| [!UICONTROL Sandbox] | [!UICONTROL *name of sandbox*] (disabled; you cannot modify this setting). |
| [!UICONTROL Average number of daily events] | less than 1 million (disabled; you cannot modify this setting). |


| Dataset name | Schema | Dataset type | Data source type | Person Id | Key | Matching Key | Import new data | Backfill data | 
|---|---|---|---|---|---|---|---|---|
| [!UICONTROL AJO Entity Dataset] | [!UICONTROL AJO Entity Record Schema] | [!UICONTROL Lookup] | [!UICONTROL Other] | - |` _id` | `_experience.decisioning.`<br/>`propositions.scopeDetails.`<br/>`correlationID` | ![Status Green](assets/../../connections/assets/status-green.svg) On | ![Status Gray](assets/../../connections/assets/status-gray.svg) Off |
| [!UICONTROL Journey Step Events] | [!UICONTROL Journey Step Event schema for Journey Orchestration] | [!UICONTROL Event] | [!UICONTROL Other] |[!UICONTROL  IdentityMap(\<primary\>)] | - | - | ![Status Green](assets/../../connections/assets/status-green.svg) On | ![Status Gray](assets/../../connections/assets/status-gray.svg) Off |
| [!UICONTROL AJO Email Tracking Experience Event Dataset] | [!UICONTROL AJO Email Tracking Experience Event Schema] | [!UICONTROL Event] | [!UICONTROL Other] | [!UICONTROL IdentityMap(\<primary\>)] | - | - | ![Status Green](assets/../../connections/assets/status-green.svg) On | ![Status Gray](assets/../../connections/assets/status-gray.svg) Off |
| [!UICONTROL AJO Email Tracking Experience Event Dataset] | [!UICONTROL AJO Email Tracking Experience Event Schema] | [!UICONTROL Event] | [!UICONTROL Other] | [!UICONTROL IdentityMap(\<primary\>)] | - | - | ![Status Green](assets/../../connections/assets/status-green.svg) On | ![Status Gray](assets/../../connections/assets/status-gray.svg) Off |
| [!UICONTROL AJO Message Feedback Event Dataset] | [!UICONTROL AJO Message Feedback Event Schema] | [!UICONTROL Event] | [!UICONTROL Other] | [!UICONTROL IdentityMap(\<primary\>)] | - | - | ![Status Green](assets/../../connections/assets/status-green.svg) On | ![Status Gray](assets/../../connections/assets/status-gray.svg) Off |
| [!UICONTROL AJO Push Tracking Experience Event Dataset] | [!UICONTROL AJO Push Tracking Experience Event Schema] | [!UICONTROL Event] | [!UICONTROL Other] | [!UICONTROL IdentityMap(\<primary\>)] | - | - | ![Status Green](assets/../../connections/assets/status-green.svg) On | ![Status Gray](assets/../../connections/assets/status-gray.svg) Off |


### Data view

The data view has the name **AJO Enable Data View (*sandbox name*)**.

- In the **[!UICONTROL Configure]** tab, the following values are configured out of the box.

    | Settings | Value |
    |---|---|
    | [!UICONTROL Connection] | AJO Enabled Connection (*sandbox name*) |
    | [!UICONTROL Name] | `AJO Enabled Data View (`_`sandbox name`_`)` |
    | [!UICONTROL External ID] | `AJO_Enabled_Data_View__`_`sandbox_name`_`_` (derived from the name) |
    | [!UICONTROL Description] | `undefined` |

    {style="table-layout:fixed"}

    | Compatibility | Value |
    |---|---|
    | [!UICONTROL Set as default data view in Adobe Journey Optimizer] | Enabled (default).<br/><br/>This configuration option allows you to designate a data view to use with Journey Optimizer, without the need for manual configuration. For information how to enable this configuration option (if not already enabled by default), see the [Compatibility](/help/data-views/create-dataview.md#compatibility) section in [Create or edit a data view](/help/data-views/create-dataview.md). <br/><br/>When you disable the option, a dialog prompts you whether you want to continue changing the default data view. When you select **[!UICONTROL Continue]**, you need to select another data view as the default data view. Select **[!UICONTROL Confirm]** to confirm your selection. Select **[!UICONTROL Cancel]** to cancel changing the default data view. |

    | Containers | Value |
    |---|---|
    | [!UICONTROL Person container name] | `Person` |
    | [!UICONTROL Session container name] | `Session` |
    | [!UICONTROL Event container name] | `Event` |

    | Calendar | Value |
    |---|---|
    | [!UICONTROL Time zone] | Time zone conforming to your location |
    | [!UICONTROL Calendar type] | Gregorian |
    | [!UICONTROL First month of the year] | January |
    | [!UICONTROL First day of the week]  | Sunday |


- In the **Components** tab:
  - All metrics and dimensions that have **[!UICONTROL (AJO)]** appended to their name are added automatically as part of this automatic configuration. 
  - Some of the metrics or dimensions that have been added automatically are based on derived fields. These derived fields are specifically created for this integration. For example, the metric Landing Page Clicks (AJO) is based on the Landing Page Clicks derived field.
  - Some of the metrics or dimensions do have additional configuration. For example, Spam Complaint (AJO) does have Format and Include Exclude Values settings applied.
  - All automatically added metrics and dimensions do have a context label named **[!UICONTROL :*name_of_metric_or_dimension*]**. For example, the[!UICONTROL Landing Page Clicks (AJO)] metric has the context label [!UICONTROL :Landing page clicks (AJO)].

- In the **[!UICONTROL Settings]** tab, no specific configuration values are applied

>[!IMPORTANT]
>
>Modifying any of the automatically configured values for the connection and data view does have consequences for the Journey Optimizer reporting that is relying upon and using the automatically configured Customer Journey Analytics integration.


## Manually configure a data view to be used with Journey Optimizer

The following sections describe how you can manually use data, generated by Journey Optimizer, to perform advanced analysis in Customer Journey Analytics. This is necessary only if the [automatic configuration option](#automatically-configure-a-customer-journey-analytics-data-view-to-be-used-with-adobe-journey-optimizer) is insufficient for your needs.

### Send data from Journey Optimizer to Experience Platform

Adobe Experience Platform serves as the central data source and link between Journey Optimizer and Customer Journey Analytics. See [Get started with Datasets](https://experienceleague.adobe.com/en/docs/journey-optimizer/using/data-management/datasets/get-started-datasets) in the Journey Optimizer user guide for steps on how to send Journey Optimizer data to Experience Platform as a dataset.

### Create a connection in Customer Journey Analytics

Once Journey Optimizer data is in Adobe Experience Platform, you can [Create a connection](/help/connections/create-connection.md) based on your Journey Optimizer datasets. Or you can add Journey Optimizer datasets to an existing connection. 

Select and configure the following datasets:

| Dataset | Dataset type | Connection settings | Description |
| --- | --- | --- | --- |
| AJO Message Feedback Event Dataset | Event | Person ID: `IdentityMap` | Contains message delivery events, such as '[!UICONTROL Sends]' and '[!UICONTROL Bounces]'. |
| AJO Email Tracking Experience Event Dataset | Event | Person ID: `IdentityMap` | Contains email tracking events such as '[!UICONTROL Opens]', '[!UICONTROL Clicks]', and '[!UICONTROL Unsubscribes]'. |
| AJO Push Tracking Experience Event Dataset | Event | Person ID: `IdentityMap` | Contains push tracking events such as '[!UICONTROL App Launches]'. |
| Journey Step Events | Event | Person ID: `_experience.journeyOrchestration.`<br>`stepEvents.profileID` | Contains events showing which profiles participated in each node of the journey. |
| AJO Entity Dataset | Lookup | Key: `_id`<br>Matching Key: `_experience.decisioning.propositions.`<br>`scopeDetails.correlationID` | Contains classifications that associate Journey and Campaign metadata to all Journey Optimizer event data. |

{style="table-layout:auto"}


### Configure the Data view to accommodate Journey Optimizer dimensions and metrics

After a connection is created, you can create one or more [Data Views](/help/data-views/create-dataview.md) to configure the desired dimensions and metrics available in Customer Journey Analytics.

>[!NOTE]
>
>Data discrepancies between Journey Optimizer and Customer Journey Analytics are typically less than 1-2%. Larger discrepancies are possible for data collected within the last two hours. Use date ranges excluding today to mitigate discrepancies involving processing time.


#### Configure dimensions in the data view

You can create the following dimensions in a data view to achieve approximate parity with similar dimensions in Journey Optimizer. See [Component settings](/help/data-views/component-settings/overview.md) in the Data View Manager for details on dimension customization options.

| Dimension | Schema element | Component settings |
| --- | --- | --- |
| Journey Name | `_experience.customerJourneyManagement.`<br>`entities.journey.journeyName` | Component type: Dimension |
| Journey Name & Version | `_experience.customerJourneyManagement.`<br>`entities.journey.journeyNameAndVersion` | Component type: Dimension |
| Journey Node Name | `_experience.customerJourneyManagement.`<br>`entities.journey.journeyNodeName` | Component type: Dimension |
| Journey Node Type | `_experience.customerJourneyManagement.`<br>`entities.journey.journeyNodeType` | Component type: Dimension |
| Campaign name | `_experience.customerJourneyManagement.`<br>`entities.campaign.name` | Component type: Dimension |
| Channel | `_experience.customerJourneyManagement.`<br>`entities.channelDetails.channel._id` | Component type: Dimension |
| Push Title | `_experience.customerJourneyManagement.`<br>`entities.channelDetails.push.title` | Component type: Dimension |
| Email Subject | `_experience.customerJourneyManagement.`<br>`entities.channelDetails.email.subject` | Component type: Dimension |
| Link Label | `_experience.customerJourneyManagement.`<br>`messageInteraction.label` | Component type: Dimension |
| Experiment Name | `_experience.customerJourneyManagement.`<br>`entities.experiment.experimentName` | Component type: Dimension<br>Context Labels: Experimentation Experiment |
| Treatment Name | `_experience.customerJourneyManagement.`<br>`entities.experiment.treatmentName` | Component type: Dimension<br>Context Labels: Experimentation Variant |
| Email Delivery Failure Reason | `_experience.customerJourneyManagement.`<br>`messageDeliveryfeedback.messageFailure.reason` | Component type: Dimension |
| Email Delivery Exclusion Reason | `_experience.customerJourneyManagement.`<br>`messageDeliveryfeedback.messageExclusion.reason` | Component type: Dimension |
| Element Label | `_experience.decisioning.propositionAction.label` | Component type: Dimension |

{style="table-layout:auto"}

#### Configure metrics in the data view

You can create the following metrics in a data view to achieve approximate parity with similar metrics in Journey Optimizer. See [Component settings](/help/data-views/component-settings/overview.md) in the Data View Manager for details around metrics customization options.

| Metric | Description | Schema element | Component settings |
| --- | --- | --- | --- |
| Bounces | The number of messages that bounced, including both immediate bounces and bounces after delivery. | `_experience.customerJourneyManagement.`<br>`messageDeliveryfeedback.feedbackStatus` | Component type: Metric<br>Include exclude values: If any criteria are met<br>Equals: `bounce`, Equals: `denylist` |
| Bounces After Delivery | Some email services report emails delivered, then bounce them later. | `_experience.customerJourneyManagement.`<br>`messageDeliveryfeedback.messageFailure.category` | Component type: Metric<br>Include exclude values: Equals `async` |
| Email Clicks | The count of clicks within messages. | `_experience.customerJourneyManagement.`<br>`messageInteraction.interactionType` | Component type: Metric<br>Include exclude values: Equals `click` |
| Email Opens | The number of opened messages. | `_experience.customerJourneyManagement.`<br>`messageInteraction.interactionType` | Component type: Metric<br>Include exclude values: Equals `open` |
| Errors | The number of messages that errored out. | `_experience.customerJourneyManagement.`<br>`messageDeliveryfeedback.feedbackStatus` | Component type: Metric<br>Include exclude values: Equals `error` |
| Excludes | The number of messages excluded. | `_experience.customerJourneyManagement.`<br>`messageDeliveryfeedback.feedbackStatus` | Component type: Metric<br>Include exclude values: Equals `exclude` |
| Sends | The number of messages that email providers accepted. | `_experience.customerJourneyManagement.`<br>`messageDeliveryfeedback.feedbackStatus` | Component type: Metric<br>Include exclude values: Equals `sent` |
| Spam Complaints | The count of spam complaints. | `_experience.customerJourneyManagement.`<br>`messageInteraction.interactionType` | Component type: Metric<br>Include exclude values: Equals `spam_complaint` |
| Unsubscribes | The count of unsubscribes. | `_experience.customerJourneyManagement.`<br>`messageInteraction.interactionType` | Component type: Metric<br>Include exclude values: Equals `unsubscribe` |
| Edge Sends | The number of times the edge network sends a message to either the Web or Mobile SDK | Use the schema string element `_experience.decisioning.propositionEventType.send` | |
| Inbound Displays | The number of times a Web or InApp message is shown to the user | Use the schema string element `_experience.decisioning.propositionEventType.display` | |
| Inbound Clicks | The count of Web or InApp message clicks | Use the schema string element `_experience.decisioning.propositionEventType.interact` | |
| InApp Triggers | The number of times the decisioning engine suggested the message should be displayed. The Mobile SDK could override the decision, reducing the number of actual displays. | Use the schema string element `_experience.decisioning.propositionEventType.trigger` | |
| InApp Dismissals | The number of times an InApp message is removed from the UI by the SDK | Use the schema string element `_experience.decisioning.propositionEventType.dismiss` | |

{style="table-layout:auto"}

#### Configure calculated metrics in Analysis Workspace

Once you have configured the desired dimensions and metrics for the Journey Optimizer dataset, you can also configure [Calculated metrics](/help/components/calc-metrics/calc-metr-overview.md) for additional insights around that data. These calculated metrics are based on the above metrics created in the Data View Manager.

| Calculated metric | Description | Formula |
| --- | --- | --- |
| Messages Sent | The total number of messages sent. Includes successful or failed messages. | `[Sends] + [Bounces] - [Bounces After Delivery]` |
| Messages Delivered | The number of emails delivered to customers. | `[Sends] - [Bounces After Delivery]` |

{style="table-layout:auto"}
